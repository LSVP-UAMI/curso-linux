= Permisos

:table-caption: Tabla
:figure-caption: Figura

Cada directorio y archivo cuentan con permisos, estos cumplen con la función de designar qué usuarios tendrán acceso a modificar o trabajar con cada uno de estos.

_Permisos del Usuario:_ Son los permisos que se aplican al propietario de un determinado archivo o directorio.

_Permisos del Grupo:_ Estos permisos definen los derechos de lectura, escritura y ejecución que se aplican sólo a  aquellos usuarios que pertenecen al mismo grupo que el propietario del archivo/directorio.

_Permisos de Otros:_ Estos permisos indican los derechos de lectura, escritura y ejecución del resto de los usuarios.

¿Cómo saber los permisos de los archivos y directorios? 
.Respuestas
[%collapsible]
====
1. $ ls -l
2. $ls -la
====

Para conocer los permisos de archivo en específico ejecutamos:

----
$ ls -l 'nombreArchivo'

-rwxr-xr-x  1  user  user  0  jun 25 15:43  'nombreArchivo'
----

El primer bit indica el tipo de archivo. Generalmente se puede tratar de los siguientes casos:
|===
| -  | Se trata de un archivo regular.
| d  | Se trata de un directorio 
| l  | Se trata de un enlace simbólico
| b  | Se trata de un enlace simbólico
|===
El resto de los 9 bits a continuación representan los permisos del propietario del archivo o directorio, los del grupo al que pertenece este usuario y los del resto de usuario.
|===
| r  | Permisos de lectura
| w  | Permiso de escritura
| x  | Permisos de ejecución
| -  | No tiene permiso de lectura, escrituro o ejecución 
|===

.Representación de los permisos de un archivo
image:permisos.png["Representación de los permisos de un archivo"]

== Representación numérica 
En este caso se sustituye en grupos de 3 bits (r, w y x) por un 1 o 0, dependiendo de si se da o no el permiso, al final, del número en binario obtenido, lo representamos en número decimal para representar las diferentes combinaciones (rwx).

|===
| Permisos  | Binario   | Decimal
| r – –     | 1 0 0     | 4
| – w –     | 1 0 1     | 2 
| – – x     | 0 0 1     | 1
|===

Tomando en cuenta la tabla anterior, podemos obtener el número que es la suma de todos los anteriores, dependiendo si se dan o no los permisos. 

|===
| Permisos  | Binario   | Decimal   | Descripción
| r w x     | 1 1 1     | 7         | Permisos de lectura, escritura y ejecución.
| r w –     | 1 1 0     | 6         | Permisos de lectura y escritura.
| r – x     | 1 0 1     | 5         | Permisos de lectura y ejecución
| r – –     | 1 0 0     | 4         | Permiso de lectura.
| – w x     | 0 1 1     | 3         | Permisos de escritura y ejecución. 
| – w –     | 0 1 0     | 2         | Permiso de escritura.
| – – x     | 0 0 1     | 1         | Permiso de ejecución
| – – –     | 0 0 0     | 0         | Sin permisos.
|===

== Modificar los permisos de un archivo/directorio _(chmod)_
----
$ chmod [Opciones] archivo/directorio
----
Primero desplegamos los permisos del archivo al que cambiaremos los permisos
----
$ ls -l Bombay

-rw-r--r-- 1 Omar Omar 0 feb 3 12:54 Bombay
----
Ahora, para conceder a los grupos permisos de escritura (w), lo hacemos con la siguiente combinación 6 6 4. +
En comandos sería de la siguiente manera:
----
chmod 644 Bombay
----
Comprobamos los cambios realizados
----
$ ls -l Bombay

- rw-rw-r-- 1 Omar Omar 0 feb 3 12:57 Bombay
----

ACTIVIDADES

== Cambio de Propietarios _(chown)_
El comando *chown* se utiliza para cambiar el propietario y/o grupo de archivos y directorios, es una abreviación de change owner (cambio de propietario).

Recuerda que si no eres el propietario del archivo/directorio, deberás tener privilegios de superusuario (root).

----
$ chwon [OPCIONES] ‘nuevoPropietario[:nuevoGrupo]’ ‘archivo/directorio’

Ejemplo: 
$ chown nuevoPropietario archivo.txt
----

Cambiar el propietario y el grupo de un archivo al mismo tiempo:

----
$ chown nuevoPropietario:nuevoGrupo archivo.txt
----

¿Cómo cambiar el propietario de un directorio y de todos sus archivo y subdirectorios de forma recursiva?

.Respuestas
[%collapsible]
====
$ chown -R nuevoPropietario directorio
====

¿Ahora, para cambiar el propietario y el grupo de un directorio y de todos sus archivo y subdirectorios de forma recursiva?

.Respuestas
[%collapsible]
====
$ chown -R nuevoPropietario:nuevoGrupo directorio
====

ACTIVIDADES